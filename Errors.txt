 ERRWB-MSv20006: Переполнение показаний относительной влажности при околонулевой влажности воздуха

Подверженные устройства

Все устройства с датчиком SHT40 с прошивкой до 4.31.3 включительно:

    WB-MS v.2 начиная с партии v4.3A/T (выпуск с 09.2022)
    WB-MSW v.3 начиная с партии 4.19 (выпуск с 12.2021)
    все WB-MSW v4

Описание

Датчик SHT40 может отдавать показания влажности, которые после пересчёта в проценты могут оказаться меньше нуля или больше 100%. Документация на датчик предписывает проверять значение влажности и приводить его к диапазону от 0 до 100%. Однако из-за ошибки в прошивке такой проверки не было. Из-за этого при околонулевой влажности воздуха значение в регистре относительной влажности могло быть около 650%.

Возможные пути устранения

    обновить прошивку до 4.31.4
    на стороне клиента принимать регистр относительной влажности как знаковый s16 и приводить значение регистра к диапазону от 0 до 100% при выходе за пределы диапазона.

Запланированное исправление

Проблема исправлена в прошивке 4.31.4. Значение в регистре относительной влажности теперь строго от 0 до 100% 